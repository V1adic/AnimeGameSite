@using System.Text.Encodings.Web
@{
    ViewData["Title"] = "Админ-панель";
}

<section class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0A0014] to-[#1A0C2D] px-4" style="aspect-ratio: 16 / 9; background-image: url('/images/MainPage/cosmos3.jpg'); background-size: cover; background-position: center;">
    <div class="bg-black bg-opacity-80 backdrop-blur-md p-10 rounded-2xl shadow-lg text-center max-w-xl w-full">
        <h1 class="text-4xl font-bold text-white mb-4 font-['Merriweather']">
            @Html.Raw(HtmlEncoder.Default.Encode("Админ-панель Quiet Planet"))
        </h1>

        <p id="welcomeMessage" class="text-lg text-gray-300 font-['Roboto'] mb-8"></p>

        <div id="postSection" class="hidden text-left">
            <h2 class="text-2xl text-secondary font-semibold mb-6 font-['Roboto'] text-center">Создание поста</h2>

            <form id="postForm" enctype="multipart/form-data" class="space-y-6">
                <div>
                    <textarea id="postContent" name="content" rows="5" required
                              class="w-full resize-y p-4 bg-gray-800 text-white placeholder-gray-400 rounded-md border border-purple-500/20 focus:outline-none focus:ring-2 focus:ring-primary"
                              placeholder="Введите текст поста..."></textarea>
                </div>

                <div>
                    <label for="photos" class="block text-sm text-gray-300 mb-2 font-['Roboto']">
                        Выберите до 10 изображений (JPG, PNG, GIF):
                    </label>
                    <input type="file" id="photos" name="photos" accept="image/jpeg,image/png,image/gif" multiple
                           class="block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0
                               file:text-sm file:font-semibold file:bg-secondary file:text-white hover:file:bg-purple-500" />

                    <div id="dropArea"
                         class="mt-4 w-full h-32 border-2 border-dashed border-purple-500 text-gray-400 flex items-center justify-center text-center p-4 rounded-md">
                        Перетащите изображения сюда или вставьте скопированное изображение (Ctrl+V)
                    </div>
                </div>

                <button type="submit"
                        class="cta-button bg-primary hover:bg-opacity-90 text-white py-3 px-6 w-full rounded-button font-medium transition-all">
                    Создать пост
                </button>
            </form>

            <div id="postResult" class="text-center text-sm mt-6 text-white font-['Roboto']"></div>
        </div>

        <div id="roleSection" class="hidden text-left mt-8">
            <h2 class="text-2xl text-secondary font-semibold mb-6 font-['Roboto'] text-center">Назначение роли</h2>

            <form id="roleForm" class="space-y-6">
                <div>
                    <label for="username" class="block text-sm text-gray-300 mb-2 font-['Roboto']">
                        Имя пользователя:
                    </label>
                    <input type="text" id="username" name="username" required
                           class="w-full p-4 bg-gray-800 text-white placeholder-gray-400 rounded-md border border-purple-500/20 focus:outline-none focus:ring-2 focus:ring-primary"
                           placeholder="Введите имя пользователя..." />
                </div>

                <div>
                    <label for="role" class="block text-sm text-gray-300 mb-2 font-['Roboto']">
                        Выберите роль:
                    </label>
                    <select id="role" name="role" required
                            class="w-full p-4 bg-gray-800 text-white rounded-md border border-purple-500/20 focus:outline-none focus:ring-2 focus:ring-primary">
                        <option value="" disabled selected>Выберите роль</option>
                        <option value="User">User</option>
                        <option value="Donator">Donator</option>
                        <option value="Admin">Admin</option>
                    </select>
                </div>

                <button type="submit"
                        class="cta-button bg-primary hover:bg-opacity-90 text-white py-3 px-6 w-full rounded-button font-medium transition-all">
                    Назначить роль
                </button>
            </form>

            <div id="roleResult" class="text-center text-sm mt-6 text-white font-['Roboto']"></div>
        </div>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
<script src="/js/admin.js"></script>